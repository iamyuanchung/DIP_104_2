function G_out = addGaussianNoise(G, mu, sigma, amplitude)
% ####################################################################### %
% addGaussianNoise: Add Gaussian noise to the given 2D image matrix       %
%                                                                         %
%   Usage:                                                                %
%       G_out = addGaussianNoise(G, mu, sigma, amplitude)                 %
%                                                                         %
%   Description:                                                          %
%       For a given 2D image matrix G, Gaussian noise is generated and    %
%       added to G, yielding G_noise, according to the following formula: %
%                                                                         %
%                   G_noise = G + amplitude * norm(mu, sigma, shape),     %
%                                                                         %
%                                 %
%                                                                         %
% ####################################################################### %

G_out = G + amplitude * normrnd(mu, sigma, size(G));
G_out = min(G_out, 255);